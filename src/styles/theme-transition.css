@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation: none;
  }
}

::view-transition-old(root) {
  animation: none;
}

::view-transition-new(root) {
  animation: none;
}

:root[data-theme-transition="1"]::view-transition-new(root) {
  animation: theme-reveal 520ms ease-out;
  transform-origin: var(--theme-transition-x, 50%) var(--theme-transition-y, 50%);
}

@keyframes theme-reveal {
  from {
    clip-path: circle(0 at var(--theme-transition-x, 50%) var(--theme-transition-y, 50%));
  }

  to {
    clip-path: circle(
      var(--theme-transition-end-radius, 120%) at var(--theme-transition-x, 50%)
        var(--theme-transition-y, 50%)
    );
  }
}
